(this["webpackJsonpbank-client"]=this["webpackJsonpbank-client"]||[]).push([[0],{38:function(e,t,n){e.exports={customLink:"style_customLink__1QHTX",mainNavBar:"style_mainNavBar__3LTup"}},50:function(e,t,n){e.exports={userCard:"style_userCard__20kzk"}},56:function(e,t,n){},57:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(25),s=n.n(o),i=(n(56),n(57),n(16)),l=n(7),u=n(17),d=n(92),j=n(49),b=n(87),h=n(6),O=n.n(h),p=n(9),v={REGISTER:{USER_REGISTRATION_PENDING:"USER_REGISTRATION_PENDING",USER_REGISTRATION_SUCCESS:"USER_REGISTRATION_SUCCESS",USER_REGISTRATION_FAILED:"USER_REGISTRATION_FAILED"},ACCOUNTS:{GET_ACCOUNTS_SUCCESS:"GET_ACCOUNTS_SUCCESS",GET_ACCOUNT_SUCCESS:"GET_ACCOUNT_SUCCESS",GET_ACCOUNT_ERROR:"GET_ACCOUNT_ERROR",GET_ACCOUNTS_ERROR:"GET_ACCOUNTS_ERROR"},USERS:{GET_USERS_SUCCESS:"GET_USERS_SUCCESS",GET_USERS_ERROR:"GET_USERS_ERROR"}},f=n(23),x={accounts:[],users:[],userName:null,account:null};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.REGISTER.USER_REGISTRATION_SUCCESS:case v.REGISTER.USER_REGISTRATION_FAILED:return alert(t.payload),e;case v.REGISTER.USER_REGISTRATION_PENDING:return e;case v.ACCOUNTS.GET_ACCOUNTS_SUCCESS:return Object(l.a)(Object(l.a)({},e),{},{accounts:Object(f.a)(t.payload)});case v.USERS.GET_USERS_SUCCESS:return Object(l.a)(Object(l.a)({},e),{},{users:Object(f.a)(t.payload)});case v.ACCOUNTS.GET_ACCOUNT_SUCCESS:return Object(l.a)(Object(l.a)({},e),{},{account:t.payload});default:return e}},C=n(28),S=Object(C.b)(m),g=n(15),E=n.n(g),R="http://localhost:5000",w="".concat(R,"/auth/register");function y(e){return G.apply(this,arguments)}function G(){return(G=Object(p.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("".concat(w),t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a.message);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=S.dispatch;function T(){return(T=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t);case 3:n=e.sent,I({type:v.REGISTER.USER_REGISTRATION_SUCCESS,payload:n}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),I({type:v.REGISTER.USER_REGISTRATION_FAILED,payload:"Something went wrong"});case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}}),e,null,[[0,7,11,13]])})))).apply(this,arguments)}function _(){var e={email:"",firstName:"",lastName:"",phone:void 0,bankBranch:void 0,id:void 0,address:"",password:""},t=Object(r.useState)(e),n=Object(u.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)({message:"",isValid:!0}),h=Object(u.a)(s,2),O=h[0],p=h[1];function v(e,t){o(Object(l.a)(Object(l.a)({},c),{},Object(i.a)({},e,t)))}return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h1",{children:[" ","Register"," "]}),Object(a.jsx)("div",{children:Object(a.jsxs)(d.a,{children:[Object(a.jsxs)(d.a.Row,{children:[Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridEmail",children:[Object(a.jsx)(d.a.Label,{children:"Email"}),Object(a.jsx)(d.a.Control,{name:"email",onChange:function(e){var t;(t=null===e||void 0===e?void 0:e.target.value)?t.includes("@")?t&&p({isValid:!0,message:""}):(console.log("no @ in the email format value"),p({isValid:!1,message:"email format is wrong"})):p({isValid:!1,message:"email is required"}),v(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)},type:"email",placeholder:"Enter email"}),O.isValid?"":O.message]}),Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridPassword",children:[Object(a.jsx)(d.a.Label,{children:"Password"}),Object(a.jsx)(d.a.Control,{name:"password",type:"password",onChange:function(e){return v(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)},placeholder:"Password"})]}),Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridPassword",children:[Object(a.jsx)(d.a.Label,{children:"Id"}),Object(a.jsx)(d.a.Control,{name:"id",type:"number",placeholder:"id",onChange:function(e){return v(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)}})]})]}),Object(a.jsxs)(d.a.Group,{controlId:"formGridAddress1",children:[Object(a.jsx)(d.a.Label,{children:"Address"}),Object(a.jsx)(d.a.Control,{name:"address",placeholder:"1234 Main St",onChange:function(e){return v(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)}})]}),Object(a.jsxs)(d.a.Group,{controlId:"formGridAddress2",children:[Object(a.jsx)(d.a.Label,{children:"Phone"}),Object(a.jsx)(d.a.Control,{name:"phone",type:"number",onChange:function(e){return v(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)}})]}),Object(a.jsxs)(d.a.Row,{children:[Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridCity",children:[Object(a.jsx)(d.a.Label,{children:"First Name"}),Object(a.jsx)(d.a.Control,{name:"firstName",onChange:function(e){return v(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)}})]}),Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridState",children:[Object(a.jsx)(d.a.Label,{children:"Last Name"}),Object(a.jsx)(d.a.Control,{name:"lastName",onChange:function(e){return v(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)}})]}),Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridZip",children:[Object(a.jsx)(d.a.Label,{children:"Bank Branch"}),Object(a.jsx)(d.a.Control,{name:"bankBranch",type:"number",onChange:function(e){return v(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)}})]})]}),Object(a.jsx)(b.a,{variant:"primary",onClick:function(){!function(e){T.apply(this,arguments)}(c),console.log(c)},type:"button",children:"Save"})]})})]})}var A="".concat(R,"/auth/changePassword");function N(e){return U.apply(this,arguments)}function U(){return(U=Object(p.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("".concat(A),t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a.message);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}S.dispatch;function k(){return(k=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:n=e.sent,alert(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[0,7,10,12]])})))).apply(this,arguments)}function L(){var e=Object(r.useState)({email:"",password:"",newPassword:"",confirmNewPassword:""}),t=Object(u.a)(e,2),n=t[0],c=t[1];function o(e,t){c(Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},e,t)))}return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:" Change Password "}),Object(a.jsx)("div",{style:{width:"600px"},children:Object(a.jsxs)(d.a,{children:[Object(a.jsxs)(d.a.Row,{children:[Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridEmail",children:[Object(a.jsx)(d.a.Label,{children:"Email"}),Object(a.jsx)(d.a.Control,{name:"email",onChange:function(e){o(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)},type:"email",placeholder:"Enter email"})]}),Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridPassword",children:[Object(a.jsx)(d.a.Label,{children:"Password"}),Object(a.jsx)(d.a.Control,{name:"password",type:"password",onChange:function(e){return o(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)},placeholder:"Password"})]})]}),Object(a.jsxs)(d.a.Row,{children:[Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridCity",children:[Object(a.jsx)(d.a.Label,{children:"New Password"}),Object(a.jsx)(d.a.Control,{name:"newPassword",onChange:function(e){return o(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)}})]}),Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridState",children:[Object(a.jsx)(d.a.Label,{children:"Confirm New Password"}),Object(a.jsx)(d.a.Control,{name:"confirmNewPassword",onChange:function(e){return o(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)}})]})]}),Object(a.jsx)(b.a,{variant:"primary",onClick:function(){!function(e){k.apply(this,arguments)}(n)},type:"button",children:"Save"})]})})]})}var P=n(19),D="".concat(R,"/account");function B(e){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(O.a.mark((function e(t){var n,a,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"?userId=".concat(t):"",e.next=3,E.a.get("".concat(D).concat(n),{headers:{authorization:localStorage.getItem("token")}});case 3:return a=e.sent,r=a.data,c=M(r),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){if(Array.isArray(e)){var t=e.reduce((function(e,t){var n=t.accountId,a=t.firstName,r=t.email,c=t.createdAt,o=e[n]?Object(l.a)(Object(l.a)({},e[n]),{},{users:[].concat(Object(f.a)(e[n].users),[{firstName:a,email:r}])}):{accountId:n,createdAt:c,users:[{firstName:a,email:r}]};return Object(l.a)(Object(l.a)({},e),{},Object(i.a)({},n,o))}),{});return Object.values(t)}}function V(e){return z.apply(this,arguments)}function z(){return(z=Object(p.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(D,"/").concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=S.dispatch;function J(e){return W.apply(this,arguments)}function W(){return(W=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t);case 3:n=e.sent,H({type:v.ACCOUNTS.GET_ACCOUNTS_SUCCESS,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Y(){return(Y=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t);case 3:n=e.sent,H({type:v.ACCOUNTS.GET_ACCOUNT_SUCCESS,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var q="".concat(R,"/user");function Q(){return X.apply(this,arguments)}function X(){return(X=Object(p.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(q));case 2:return t=e.sent,n=t.data,e.abrupt("return",n.users);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=S.dispatch;function $(){return($=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q();case 3:t=e.sent,Z({type:v.USERS.GET_USERS_SUCCESS,payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var K=n(29),ee=n.n(K),te=n(50),ne=n.n(te),ae=n(88),re=n(89);function ce(e){return Object(a.jsxs)("div",{className:ne.a.userCard,children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)(ae.a,{})," ",e.firstName,"  "]}),Object(a.jsxs)("h3",{children:[Object(a.jsx)(re.a,{})," ",e.email]})]})}var oe=n(18);function se(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h1",{children:["  Account Id:   ",Object(a.jsxs)(oe.c,{to:"account-page/".concat(e.accountId),children:[" ",e.accountId," "]}),"  "]}),Object(a.jsxs)("h4",{children:[" Created At: ",ee()(e.createdAt).format("DD-MMM yyyy"),"  "]}),Object(a.jsx)("div",{children:e.users.map((function(e){return Object(a.jsx)(ce,Object(l.a)({},e),e.email)}))})]})}function ie(){var e=Object(P.b)((function(e){return e.accounts})),t=Object(P.b)((function(e){return e.users}));return Object(r.useEffect)((function(){J(),function(){$.apply(this,arguments)}()}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:" Accounts  "}),Object(a.jsxs)("div",{children:["Filters: ",Object(a.jsx)(le,{users:t,onChange:function(e){J(e)}})]}),Object(a.jsx)("div",{children:e.map((function(e){return Object(a.jsx)(se,Object(l.a)({},e),e.accountId)}))})]})}function le(e){var t=e.users,n=void 0===t?[]:t;return Object(a.jsx)(d.a,{children:Object(a.jsxs)(d.a.Group,{controlId:"exampleForm.SelectCustom",children:[Object(a.jsx)(d.a.Label,{children:"Custom select"}),Object(a.jsx)(d.a.Control,{onChange:function(t){e.onChange(t.target.value)},as:"select",custom:!0,children:n.map((function(e){return Object(a.jsxs)("option",{value:"123;delete * from users",children:[" ",e.email," "]},e.email)}))})]})})}var ue=n(8),de=n(91),je=n(38),be=n.n(je),he=[{to:"/",title:"Accounts"},{to:"/CreateAccount",title:"Create Account"},{to:"/change-password",title:"Change Password"},{to:"/login",title:"Login"}];function Oe(){return Object(a.jsx)(de.a,{variant:"pills",className:be.a.mainNavBar,children:Object(a.jsx)(pe,{links:he})})}function pe(e){var t=e.links;return Array.isArray(t)?t.map((function(e){return Object(a.jsxs)(de.a.Item,{children:["  ",Object(a.jsx)(oe.c,{className:be.a.customLink,to:e.to,children:e.title})," "]})})):null}var ve=n(90);function fe(){var e=Object(ue.f)(),t=Object(P.b)((function(e){return e.account}));return Object(r.useEffect)((function(){!function(e){Y.apply(this,arguments)}(Number(e.accountId))}),[]),Object(a.jsxs)("div",{children:["Account page : ",e.accountId,Object(a.jsx)(Ce,{currentAccount:t}),Object(a.jsx)(Se,{operation:function(){}})]})}var xe=[{key:"createdAt",title:"Created At",fn:"extractCreatedAt"},{key:"id",title:"Account"},{key:"balance",title:"Balance",fn:"extractBalance"},{key:"updatedAt",title:"Updated Date"}],me={extractCreatedAt:function(e){if(e)return console.log(e),ee()(e.createdAt).format("DD/MMM/YY")},extractBalance:function(e){if(e)return e.balance+" $"}};function Ce(e){var t=e.currentAccount;return t?xe.map((function(e){return Object(a.jsxs)("h1",{children:[" ",e.title," : ",e.fn?me[e.fn](t):t[e.key]," "]})})):null}function Se(e){var t=Object(r.useState)(0),n=Object(u.a)(t,2),c=n[0],o=n[1];return Object(a.jsx)("div",{children:Object(a.jsxs)(d.a,{children:[Object(a.jsxs)("h1",{children:[Object(a.jsx)(ve.a,{variant:"secondary",children:c})," "]}),Object(a.jsxs)(d.a.Group,{controlId:"formBasicRange",children:[Object(a.jsx)(d.a.Label,{children:"Range"}),Object(a.jsx)(d.a.Control,{value:c,min:0,max:1e3,onChange:function(e){o(e.target.value)},type:"range"})]}),Object(a.jsx)(b.a,{onClick:function(){e.operation("Deposit",c)},children:" Deposit "}),Object(a.jsx)(b.a,{onClick:function(){e.operation("Withdraw",c)},children:" Withdraw "})]})})}function ge(){var e=Object(r.useState)({email:"",password:""}),t=Object(u.a)(e,2),n=t[0],c=t[1];function o(e,t){c(Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},e,t)))}function s(){return(s=Object(p.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("http://localhost:5000/auth/login",n);case 2:t=e.sent,localStorage.setItem("token",t.data.token),console.log(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:" Login "}),Object(a.jsx)("div",{style:{width:"600px"},children:Object(a.jsxs)(d.a,{children:[Object(a.jsxs)(d.a.Row,{children:[Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridEmail",children:[Object(a.jsx)(d.a.Label,{children:"Email"}),Object(a.jsx)(d.a.Control,{name:"email",onChange:function(e){o(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)},type:"email",placeholder:"Enter email"})]}),Object(a.jsxs)(d.a.Group,{as:j.a,controlId:"formGridPassword",children:[Object(a.jsx)(d.a.Label,{children:"Password"}),Object(a.jsx)(d.a.Control,{name:"password",type:"password",onChange:function(e){return o(null===e||void 0===e?void 0:e.target.name,null===e||void 0===e?void 0:e.target.value)},placeholder:"Password"})]})]}),Object(a.jsx)(b.a,{variant:"primary",onClick:function(){return s.apply(this,arguments)},type:"button",children:"Save"})]})})]})}var Ee=function(){return Object(a.jsx)(oe.b,{children:Object(a.jsx)(oe.a,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"jumbotron",children:" Bank Of Haifa  "}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(Oe,{})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)(ue.c,{children:[Object(a.jsx)(ue.a,{path:"/CreateAccount",children:Object(a.jsx)(_,{})},"CreateAccount"),Object(a.jsx)(ue.a,{path:"/account-page/:accountId",children:Object(a.jsx)(fe,{})},"accountPage"),Object(a.jsx)(ue.a,{path:"/change-password",children:Object(a.jsx)(L,{})},"change-password"),Object(a.jsx)(ue.a,{path:"/login",children:Object(a.jsx)(ge,{})},"login"),Object(a.jsx)(ue.a,{path:"/",children:Object(a.jsx)(ie,{})},"home")]})})]})})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,93)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};n(84);s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(P.a,{store:S,children:Object(a.jsx)(Ee,{})})}),document.getElementById("root")),Re()}},[[85,1,2]]]);
//# sourceMappingURL=main.eb2516b7.chunk.js.map